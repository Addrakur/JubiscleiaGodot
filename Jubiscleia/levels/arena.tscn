[gd_scene load_steps=16 format=4 uid="uid://cqp1060wjlhfn"]

[ext_resource type="Script" path="res://levels/level.gd" id="1_5moen"]
[ext_resource type="TileSet" uid="uid://dsjlo105wabro" path="res://assets/Tileset/Ground.tres" id="2_khbs8"]
[ext_resource type="PackedScene" uid="uid://cyum4hvfs7wnh" path="res://player/player.tscn" id="3_2ic4t"]
[ext_resource type="PackedScene" uid="uid://c33bx5e2javr1" path="res://levels/BG.tscn" id="3_48sx8"]
[ext_resource type="PackedScene" uid="uid://cv8owgy7v2lhb" path="res://enemies/enemy_limit.tscn" id="4_l7r3x"]
[ext_resource type="PackedScene" uid="uid://3f7lr15bhlyx" path="res://enemies/sword_skeleton.tscn" id="5_10llb"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="7_qpd7n"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2d.gd" id="8_us7wb"]
[ext_resource type="PackedScene" uid="uid://sdmdvsx1p41u" path="res://enemies/training_dummy.tscn" id="9_dgptr"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="9_dny5v"]
[ext_resource type="PackedScene" uid="uid://bgtm18yxrdsdx" path="res://Management/camera_area.tscn" id="10_h6txr"]
[ext_resource type="PackedScene" uid="uid://b7fccbrl06aa5" path="res://levels/enemy_spawn.tscn" id="11_14tdb"]
[ext_resource type="PackedScene" uid="uid://djqldg2hn5i3u" path="res://Management/spike.tscn" id="11_davmh"]

[sub_resource type="Resource" id="Resource_td1jt"]
script = ExtResource("9_dny5v")
duration = 1.0
transition = 0
ease = 2

[sub_resource type="Curve2D" id="Curve2D_ldnnj"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -768, 288, 0, 0, 0, 0, 768, 288)
}
point_count = 2

[node name="Arena" type="Node2D" node_paths=PackedStringArray("player")]
script = ExtResource("1_5moen")
player = NodePath("Player")

[node name="Camera2D" type="Camera2D" parent="."]
physics_interpolation_mode = 1
position = Vector2(-480, 288)

[node name="PhantomCameraHost" type="Node" parent="Camera2D"]
script = ExtResource("7_qpd7n")

[node name="BG" parent="Camera2D" instance=ExtResource("3_48sx8")]

[node name="Limit" parent="." node_paths=PackedStringArray("limit_polygon") instance=ExtResource("4_l7r3x")]
limit_polygon = NodePath("Polygon2D")

[node name="Polygon2D" type="Polygon2D" parent="Limit"]
visible = false
modulate = Color(1, 1, 1, 0.239216)
polygon = PackedVector2Array(-256, 256, -256, 480, 1216, 480, 1216, 256)

[node name="Starting X" type="Marker2D" parent="Limit"]
position = Vector2(608, 384)

[node name="SwordSkeleton" parent="Limit" instance=ExtResource("5_10llb")]
position = Vector2(-128, 448)

[node name="Player" parent="." instance=ExtResource("3_2ic4t")]
position = Vector2(-480, 352)

[node name="Layer0" type="TileMapLayer" parent="." groups=["terrain"]]
use_parent_material = true
tile_map_data = PackedByteArray("AADZ/wkAAAACAAEAAADZ/wgAAAACAAEAAADZ/wcAAAACAAEAAADZ/wYAAAACAAEAAADZ/wUAAAACAAEAAADZ/wQAAAACAAQAAADZ/wMAAAABAAEAAADZ/wIAAAABAAEAAADZ/wEAAAABAAEAAADZ/wAAAAABAAEAAADY/wkAAAABAAEAAADY/wgAAAABAAEAAADY/wcAAAABAAEAAADY/wYAAAABAAEAAADY/wUAAAABAAEAAADY/wQAAAABAAEAAADY/wMAAAABAAEAAADY/wIAAAABAAEAAADY/wEAAAABAAEAAADY/wAAAAABAAEAAAAmAAAAAAABAAEAAAAmAAEAAAABAAEAAAAmAAIAAAABAAEAAAAmAAMAAAABAAEAAAAmAAQAAAADAAQAAAAmAAUAAAAAAAEAAAAmAAYAAAAAAAEAAAAmAAcAAAAAAAEAAAAmAAgAAAAAAAEAAAAmAAkAAAAAAAEAAAAnAAkAAAABAAEAAAAnAAgAAAABAAEAAAAnAAcAAAABAAEAAAAnAAYAAAABAAEAAAAnAAUAAAABAAEAAAAnAAQAAAABAAEAAAAnAAMAAAABAAEAAAAnAAIAAAABAAEAAAAnAAEAAAABAAEAAAAnAAAAAAABAAEAAADa/wQAAAAFAAQAAADb/wMAAAAFAAQAAADc/wIAAAAFAAQAAADd/wEAAAAFAAQAAADa/wMAAAACAAQAAADb/wIAAAACAAQAAADc/wEAAAACAAQAAADa/wIAAAABAAEAAADa/wEAAAABAAEAAADa/wAAAAABAAEAAADb/wEAAAABAAEAAADb/wAAAAABAAEAAADc/wAAAAABAAEAAADd/wAAAAABAAEAAADe/wAAAAABAAEAAADf/wAAAAABAAEAAADg/wAAAAABAAEAAADh/wAAAAABAAEAAADi/wAAAAABAAEAAADj/wAAAAABAAEAAADk/wAAAAABAAEAAADl/wAAAAABAAEAAADm/wAAAAABAAEAAADn/wAAAAABAAEAAADo/wAAAAABAAEAAADp/wAAAAABAAEAAADq/wAAAAABAAEAAADr/wAAAAABAAEAAADs/wAAAAABAAEAAADt/wAAAAABAAEAAADu/wAAAAABAAEAAADv/wAAAAABAAEAAADw/wAAAAABAAEAAADx/wAAAAABAAEAAADy/wAAAAABAAEAAADz/wAAAAABAAEAAAD0/wAAAAABAAEAAAD1/wAAAAABAAEAAAD2/wAAAAABAAEAAAD3/wAAAAABAAEAAAD4/wAAAAABAAEAAAD5/wAAAAABAAEAAAD6/wAAAAABAAEAAAD7/wAAAAABAAEAAAD8/wAAAAABAAEAAAD9/wAAAAABAAEAAAD+/wAAAAABAAEAAAD//wAAAAABAAEAAAAAAAAAAAABAAEAAAABAAAAAAABAAEAAAACAAAAAAABAAEAAAADAAAAAAABAAEAAAAEAAAAAAABAAEAAAAFAAAAAAABAAEAAAAGAAAAAAABAAEAAAAHAAAAAAABAAEAAAAIAAAAAAABAAEAAAAJAAAAAAABAAEAAAAKAAAAAAABAAEAAAALAAAAAAABAAEAAAAMAAAAAAABAAEAAAANAAAAAAABAAEAAAAOAAAAAAABAAEAAAAPAAAAAAABAAEAAAAQAAAAAAABAAEAAAARAAAAAAABAAEAAAASAAAAAAABAAEAAAATAAAAAAABAAEAAAAUAAAAAAABAAEAAAAVAAAAAAABAAEAAAAWAAAAAAABAAEAAAAXAAAAAAABAAEAAAAYAAAAAAABAAEAAAAZAAAAAAABAAEAAAAaAAAAAAABAAEAAAAbAAAAAAABAAEAAAAcAAAAAAABAAEAAAAdAAAAAAABAAEAAAAeAAAAAAABAAEAAAAfAAAAAAABAAEAAAAgAAAAAAABAAEAAAAhAAAAAAABAAEAAAAiAAAAAAABAAEAAAAjAAAAAAABAAEAAAAkAAAAAAABAAEAAAAlAAAAAAABAAEAAAAlAAQAAAAEAAQAAAAkAAMAAAAEAAQAAAAjAAIAAAAEAAQAAAAiAAEAAAAEAAQAAAAlAAMAAAADAAQAAAAkAAIAAAADAAQAAAAjAAEAAAADAAQAAAAlAAIAAAABAAEAAAAlAAEAAAABAAEAAAAkAAEAAAABAAEAAADY/wsAAAABAAEAAADY/wwAAAABAAEAAADY/w0AAAABAAEAAADY/w4AAAABAAEAAADY/w8AAAABAAEAAADY/xAAAAABAAEAAADZ/wsAAAACAAEAAADZ/wwAAAACAAEAAADZ/w0AAAACAAEAAADZ/w4AAAAFAAAAAADZ/w8AAAABAAEAAADZ/xAAAAABAAEAAADa/w4AAAAEAAAAAADa/w8AAAAEAAMAAADa/xAAAAAFAAAAAADb/xAAAAABAAAAAADc/xAAAAABAAAAAADd/w8AAAAAAAQAAADd/xAAAAAGAAAAAADe/w8AAAABAAAAAADe/xAAAAABAAEAAADf/w8AAAABAAAAAADf/xAAAAABAAEAAADg/w8AAAABAAAAAADg/xAAAAABAAEAAADh/w8AAAABAAAAAADh/xAAAAABAAEAAADi/w8AAAABAAAAAADi/xAAAAABAAEAAADj/w8AAAABAAAAAADj/xAAAAABAAEAAADk/w8AAAABAAAAAADk/xAAAAABAAEAAADl/w8AAAABAAAAAADl/xAAAAABAAEAAADm/w8AAAABAAAAAADm/xAAAAABAAEAAADn/w8AAAABAAAAAADn/xAAAAABAAEAAADo/w8AAAABAAAAAADo/xAAAAABAAEAAADp/w8AAAABAAAAAADp/xAAAAABAAEAAADq/w8AAAABAAAAAADq/xAAAAABAAEAAADr/w4AAAADAAAAAADr/w8AAAADAAEAAADr/xAAAAABAAEAAADs/wwAAAAAAAAAAADs/w0AAAAAAAEAAADs/w4AAAADAAEAAADs/w8AAAABAAEAAADs/xAAAAABAAEAAADt/wwAAAABAAAAAADt/w0AAAABAAEAAADt/w4AAAABAAEAAADt/w8AAAABAAEAAADt/xAAAAABAAEAAADu/wwAAAABAAAAAADu/w0AAAABAAEAAADu/w4AAAABAAEAAADu/w8AAAABAAEAAADu/xAAAAABAAEAAADv/wwAAAABAAAAAADv/w0AAAABAAEAAADv/w4AAAABAAEAAADv/w8AAAABAAEAAADv/xAAAAABAAEAAADw/wwAAAABAAAAAADw/w0AAAABAAEAAADw/w4AAAABAAEAAADw/w8AAAABAAEAAADw/xAAAAABAAEAAADx/wwAAAABAAAAAADx/w0AAAABAAEAAADx/w4AAAABAAEAAADx/w8AAAABAAEAAADx/xAAAAABAAEAAADy/wwAAAABAAAAAADy/w0AAAABAAEAAADy/w4AAAABAAEAAADy/w8AAAABAAEAAADy/xAAAAABAAEAAADz/wwAAAABAAAAAADz/w0AAAABAAEAAADz/w4AAAABAAEAAADz/w8AAAABAAEAAADz/xAAAAABAAEAAAD0/wwAAAABAAAAAAD0/w0AAAABAAEAAAD0/w4AAAABAAEAAAD0/w8AAAABAAEAAAD0/xAAAAABAAEAAAD1/wwAAAABAAAAAAD1/w0AAAABAAEAAAD1/w4AAAABAAEAAAD1/w8AAAABAAEAAAD1/xAAAAABAAEAAAD2/wwAAAABAAAAAAD2/w0AAAABAAEAAAD2/w4AAAABAAEAAAD2/w8AAAABAAEAAAD2/xAAAAABAAEAAAD3/wwAAAACAAAAAAD3/w0AAAACAAEAAAD3/w4AAAACAAEAAAD3/w8AAAAFAAAAAAD3/xAAAAABAAEAAAD4/w8AAAABAAAAAAD4/xAAAAABAAEAAAD5/w8AAAABAAAAAAD5/xAAAAABAAEAAAD6/w8AAAABAAAAAAD6/xAAAAABAAEAAAD7/w8AAAABAAAAAAD7/xAAAAABAAEAAAD8/w8AAAABAAAAAAD8/xAAAAABAAEAAAD9/w8AAAABAAAAAAD9/xAAAAABAAEAAAD+/w8AAAABAAAAAAD+/xAAAAABAAEAAAD//w8AAAABAAAAAAD//xAAAAABAAEAAAAAAA8AAAABAAAAAAAAABAAAAABAAEAAAABAA8AAAABAAAAAAABABAAAAABAAEAAAACAA8AAAABAAAAAAACABAAAAABAAEAAAADAA8AAAABAAAAAAADABAAAAABAAEAAAAEAA8AAAABAAAAAAAEABAAAAABAAEAAAAFAA8AAAABAAAAAAAFABAAAAABAAEAAAAGAA8AAAABAAAAAAAGABAAAAABAAEAAAAHAA8AAAABAAAAAAAHABAAAAABAAEAAAAIAA8AAAABAAAAAAAIABAAAAABAAEAAAAJAA8AAAABAAAAAAAJABAAAAABAAEAAAAKAA8AAAABAAAAAAAKABAAAAABAAEAAAALAA8AAAABAAAAAAALABAAAAABAAEAAAAMAA8AAAABAAAAAAAMABAAAAABAAEAAAANAA8AAAABAAAAAAANABAAAAABAAEAAAAOAA8AAAABAAAAAAAOABAAAAABAAEAAAAPAA8AAAABAAAAAAAPABAAAAABAAEAAAAQAA8AAAABAAAAAAAQABAAAAABAAEAAAARAA8AAAABAAAAAAARABAAAAABAAEAAAASAA8AAAABAAAAAAASABAAAAABAAEAAAATAA8AAAABAAAAAAATABAAAAABAAEAAAAUAA8AAAABAAAAAAAUABAAAAABAAEAAAAVAA8AAAABAAAAAAAVABAAAAABAAEAAAAWAA8AAAABAAAAAAAWABAAAAABAAEAAAAXAA8AAAABAAAAAAAXABAAAAABAAEAAAAYAA8AAAABAAAAAAAYABAAAAABAAEAAAAZAA8AAAABAAAAAAAZABAAAAABAAEAAAAaAA8AAAABAAAAAAAaABAAAAABAAEAAAAbAA8AAAABAAAAAAAbABAAAAABAAEAAAAcAA8AAAABAAAAAAAcABAAAAABAAEAAAAdAA8AAAABAAAAAAAdABAAAAABAAEAAAAeAA8AAAABAAAAAAAeABAAAAABAAEAAAAfAA8AAAABAAAAAAAfABAAAAABAAEAAAAgAA8AAAABAAAAAAAgABAAAAABAAEAAAAhAA8AAAABAAAAAAAhABAAAAABAAEAAAAiAA8AAAABAAAAAAAiABAAAAABAAEAAAAjAA8AAAABAAAAAAAjABAAAAABAAEAAAAkAA8AAAABAAAAAAAkABAAAAABAAEAAAAlAA8AAAABAAAAAAAlABAAAAABAAEAAAAmAAsAAAAAAAEAAAAmAAwAAAAAAAEAAAAmAA0AAAAAAAEAAAAmAA4AAAAAAAEAAAAmAA8AAAAGAAAAAAAmABAAAAABAAEAAAAnAAsAAAABAAEAAAAnAAwAAAABAAEAAAAnAA0AAAABAAEAAAAnAA4AAAABAAEAAAAnAA8AAAABAAEAAAAnABAAAAABAAEAAADY/xEAAAABAAEAAADZ/xEAAAABAAEAAADa/xEAAAABAAEAAADb/xEAAAABAAEAAADc/xEAAAABAAEAAADd/xEAAAABAAEAAADe/xEAAAABAAEAAADf/xEAAAABAAEAAADg/xEAAAABAAEAAADh/xEAAAABAAEAAADi/xEAAAABAAEAAADj/xEAAAABAAEAAADk/xEAAAABAAEAAADl/xEAAAABAAEAAADm/xEAAAABAAEAAADn/xEAAAABAAEAAADo/xEAAAABAAEAAADp/xEAAAABAAEAAADq/xEAAAABAAEAAADr/xEAAAABAAEAAADs/xEAAAABAAEAAADt/xEAAAABAAEAAADu/xEAAAABAAEAAADv/xEAAAABAAEAAADw/xEAAAABAAEAAADx/xEAAAABAAEAAADy/xEAAAABAAEAAADz/xEAAAABAAEAAAD0/xEAAAABAAEAAAD1/xEAAAABAAEAAAD2/xEAAAABAAEAAAD3/xEAAAABAAEAAAD4/xEAAAABAAEAAAD5/xEAAAABAAEAAAD6/xEAAAABAAEAAAD7/xEAAAABAAEAAAD8/xEAAAABAAEAAAD9/xEAAAABAAEAAAD+/xEAAAABAAEAAAD//xEAAAABAAEAAAAAABEAAAABAAEAAAABABEAAAABAAEAAAACABEAAAABAAEAAAADABEAAAABAAEAAAAEABEAAAABAAEAAAAFABEAAAABAAEAAAAGABEAAAABAAEAAAAHABEAAAABAAEAAAAIABEAAAABAAEAAAAJABEAAAABAAEAAAAKABEAAAABAAEAAAALABEAAAABAAEAAAAMABEAAAABAAEAAAANABEAAAABAAEAAAAOABEAAAABAAEAAAAPABEAAAABAAEAAAAQABEAAAABAAEAAAARABEAAAABAAEAAAASABEAAAABAAEAAAATABEAAAABAAEAAAAUABEAAAABAAEAAAAVABEAAAABAAEAAAAWABEAAAABAAEAAAAXABEAAAABAAEAAAAYABEAAAABAAEAAAAZABEAAAABAAEAAAAaABEAAAABAAEAAAAbABEAAAABAAEAAAAcABEAAAABAAEAAAAdABEAAAABAAEAAAAeABEAAAABAAEAAAAfABEAAAABAAEAAAAgABEAAAABAAEAAAAhABEAAAABAAEAAAAiABEAAAABAAEAAAAjABEAAAABAAEAAAAkABEAAAABAAEAAAAlABEAAAABAAEAAAAmABEAAAABAAEAAAAnABEAAAABAAEAAADZ/woAAAACAAEAAADY/woAAAABAAEAAAAnAAoAAAABAAEAAAAmAAoAAAAAAAEAAADd/w4AAAAHAAAAAAA=")
tile_set = ExtResource("2_khbs8")

[node name="Training Dummy" parent="." instance=ExtResource("9_dgptr")]
position = Vector2(-896, 480)

[node name="Big Worm" parent="." node_paths=PackedStringArray("warp_area", "starting_x", "limit") instance=ExtResource("11_14tdb")]
position = Vector2(-320, 384)
Enemy = "big_worm"
has_set_direction = true
warp_area = NodePath("../Limit/Polygon2D")
starting_x = NodePath("../Limit/Starting X")
limit = NodePath("../Limit")

[node name="Scorpion" parent="." node_paths=PackedStringArray("warp_area", "starting_x", "limit") instance=ExtResource("11_14tdb")]
position = Vector2(-448, 384)
Enemy = "scorpion"
has_starting_x = true
warp_area = NodePath("../Limit/Polygon2D")
starting_x = NodePath("../Limit/Starting X")
limit = NodePath("../Limit")

[node name="Skeleton" parent="." node_paths=PackedStringArray("warp_area", "starting_x", "limit") instance=ExtResource("11_14tdb")]
position = Vector2(-512, 384)
Enemy = "skeleton"
warp_area = NodePath("../Limit/Polygon2D")
starting_x = NodePath("../Limit/Starting X")
limit = NodePath("../Limit")

[node name="Snake" parent="." node_paths=PackedStringArray("warp_area", "starting_x", "limit") instance=ExtResource("11_14tdb")]
position = Vector2(-576, 384)
Enemy = "snake"
has_set_direction = true
warp_area = NodePath("../Limit/Polygon2D")
starting_x = NodePath("../Limit/Starting X")
limit = NodePath("../Limit")

[node name="Kitsune" parent="." node_paths=PackedStringArray("warp_area", "starting_x", "limit") instance=ExtResource("11_14tdb")]
position = Vector2(-384, 384)
Enemy = "kitsune"
has_starting_x = true
has_warp_area = true
warp_area = NodePath("../Limit/Polygon2D")
starting_x = NodePath("../Limit/Starting X")
limit = NodePath("../Limit")

[node name="Label" type="Label" parent="."]
offset_left = -572.0
offset_top = 247.0
offset_right = -327.0
offset_bottom = 273.0
text = "Aperte F para spawnar inimigos"

[node name="PhantomCamera2D" type="Node2D" parent="." node_paths=PackedStringArray("follow_target", "follow_path")]
position = Vector2(-480, 288)
script = ExtResource("8_us7wb")
follow_mode = 4
follow_target = NodePath("../Player")
follow_path = NodePath("../CameraArea/Path2D")
tween_resource = SubResource("Resource_td1jt")
follow_damping = true
draw_limits = true

[node name="CameraArea" parent="." node_paths=PackedStringArray("camera") instance=ExtResource("10_h6txr")]
visible = false
horizontal = true
camera = NodePath("../PhantomCamera2D")

[node name="Path2D" type="Path2D" parent="CameraArea"]
curve = SubResource("Curve2D_ldnnj")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="CameraArea"]
polygon = PackedVector2Array(-1216, 480, 1216, 480, 1216, 32, -1216, 32)

[node name="Spike" parent="." instance=ExtResource("11_davmh")]
position = Vector2(-1152, 512)

[node name="Spike2" parent="." instance=ExtResource("11_davmh")]
position = Vector2(-1184, 512)
